/* Tabsy Forest Theme (Focify aligned) */
:root { --bg:#08100d; --panel:#0f1b16; --panel-alt:#13241d; --panel-raised:#182a22; --border:#1a2d24; --border-strong:#25493a; --text:#d7efe1; --text-dim:#8aa697; --accent:#1e8f55; --accent-hover:#27a463; --focus:#26c978; --danger:#c55353; --radius-sm:6px; --radius:12px; --radius-lg:16px; --font:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Ubuntu,sans-serif; --fz-xs:11px; --fz-sm:12px; --fz:13px; --fz-lg:15px; }
* { box-sizing:border-box; margin:0; padding:0; }
body { font: var(--fz)/1.45 var(--font); background: var(--bg); color: var(--text); width:360px; height:640px; margin:0; -webkit-font-smoothing:antialiased; }
.app { display:flex; flex-direction:column; min-height:100%; height:640px; }
.app-header { background:linear-gradient(180deg,var(--panel-alt),var(--panel)); border-bottom:1px solid var(--border); padding:12px 14px 10px; position:relative; }
.header-content { display:flex; align-items:center; justify-content:space-between; }
.app-title { display:flex; align-items:center; gap:8px; }
.app-icon { width:32px; height:32px; display:flex; align-items:center; justify-content:center; background:var(--panel-alt); border:1px solid var(--border); border-radius:10px; font-size:18px; }
.app-title h1 { font-size:15px; margin:0; letter-spacing:.5px; font-weight:600; }
.tab-count { font-size:11px; color:var(--text-dim); background:var(--panel-alt); padding:4px 8px 3px; border-radius:8px; border:1px solid var(--border); }
.action-bar { display:flex; gap:8px; padding:8px 14px 10px; background:var(--panel); border-bottom:1px solid var(--border); }
.btn { display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border:1px solid var(--border); border-radius:10px; font:500 12px/1 var(--font); cursor:pointer; background:linear-gradient(145deg,var(--panel-alt),var(--panel)); color:#e1f7ec; position:relative; overflow:hidden; transition:.2s background,.2s border,.2s color,.2s transform; }
.btn:focus { outline:2px solid var(--focus); outline-offset:2px; }
.btn-primary { background:linear-gradient(145deg,var(--accent),var(--accent-hover)); color:#fff; border-color:var(--accent); }
.btn-primary:hover { filter:brightness(1.05); box-shadow:0 0 0 1px var(--accent),0 0 0 4px rgba(38,201,120,.25); }
.btn-secondary { background:var(--panel-alt); }
.btn-secondary:hover { border-color:var(--accent); color:#fff; }
.btn-success { background:linear-gradient(145deg,#1d7d4b,var(--accent)); color:#fff; border-color:var(--accent); }
.btn-success:hover { filter:brightness(1.1); }
.btn-outline { background:transparent; color:var(--text-dim); }
.btn-outline:hover { background:var(--panel-alt); color:#fff; border-color:var(--accent); }
.btn-action { flex:1; justify-content:center; min-height:38px; }
.scrollable-content { flex:1; overflow-y:auto; display:flex; flex-direction:column; gap:18px; padding:12px 14px 12px; }
.fixed-bottom-section { background:var(--panel); border-top:1px solid var(--border); padding:12px 14px 14px; box-shadow:0 -3px 6px -3px rgba(0,0,0,.55); }
.section-header h2 { font:600 11px/1 var(--font); color:var(--accent); letter-spacing:.08em; text-transform:uppercase; margin:0 0 6px; }
.tab-list-container { flex:1; overflow-y:auto; margin:0; padding:0; }
.tabs-section { flex:1; overflow:hidden; display:flex; flex-direction:column; margin-bottom:10px; min-height:180px; }
.tab-list { list-style:none; display:flex; flex-direction:column; gap:6px; }
.tab-item { display:flex; align-items:center; gap:8px; padding:8px 10px; background:var(--panel-alt); border:1px solid var(--border); border-radius:10px; cursor:pointer; transition:.18s background,.18s border,.18s transform; }
.tab-item:hover { background:var(--panel-raised); border-color:var(--accent); }
.tab-checkbox { width:16px; height:16px; margin:0; accent-color:var(--accent); }
.tab-favicon { width:16px; height:16px; border-radius:4px; }
.tab-title { flex:1; font:500 12px/1.3 var(--font); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.save-group-form { margin-bottom:10px; }
.form-group { display:flex; flex-direction:column; gap:8px; }
.form-input { width:100%; padding:10px 12px; background:var(--panel-alt); border:1px solid var(--border); border-radius:10px; color:var(--text); font:500 12px/1 var(--font); transition:.22s background,.22s border,.22s box-shadow; }
.form-input:focus { outline:2px solid var(--focus); outline-offset:2px; background:var(--panel-raised); border-color:var(--accent); box-shadow:0 0 0 4px rgba(38,201,120,.2); }
.form-input::placeholder { color:var(--text-dim); }
.group-list { display:flex; flex-direction:column; gap:8px; overflow-y:auto; padding-right:4px; flex:1; }
.groups-section { flex:0 0 auto; display:flex; flex-direction:column; gap:8px; margin-bottom:6px; }
.group-item { background:var(--panel-alt); border:1px solid var(--border); border-radius:12px; overflow:hidden; transition:.25s border,.25s background,.25s box-shadow; position:relative; }
.group-item::after { content:""; position:absolute; inset:0; pointer-events:none; border-radius:inherit; box-shadow:0 0 0 0 rgba(38,201,120,.3); transition:.3s box-shadow; }
.group-item:hover { border-color:var(--accent); }
.group-item.expanded::after { box-shadow:0 0 0 1px var(--accent); }
.group-header { display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px 14px; cursor:pointer; user-select:none; }
.group-header:hover { background:var(--panel-raised); }
.group-title { flex:1; font:500 12px/1.1 var(--font); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.group-toggle { color:var(--text-dim); font-size:11px; transition:transform .25s; }
.group-item.expanded .group-toggle { transform:rotate(180deg); }
.group-content { display:block; padding:0 14px 0; border-top:1px solid var(--border); background:var(--panel); max-height:0; overflow:hidden; transition:max-height .35s ease, padding-top .3s ease, padding-bottom .3s ease; }
.group-item.expanded .group-content { padding:10px 14px 14px; }
.group-urls { list-style:none; margin:0 0 10px; max-height:160px; overflow:auto; display:flex; flex-direction:column; gap:4px; }
.group-url { padding:2px 0; font:11px/1.3 var(--font); color:var(--text-dim); word-break:break-all; }
.group-actions { display:flex; flex-wrap:wrap; gap:6px; }
.group-actions .btn { flex:1 1 auto; padding:6px 8px; font-size:11px; min-height:auto; justify-content:center; }
[data-tooltip] { position:relative; }
[data-tooltip]:hover::before { content:attr(data-tooltip); position:absolute; bottom:calc(100% + 8px); left:50%; transform:translateX(-50%); background:var(--panel-alt); color:var(--text); padding:6px 8px; border-radius:8px; font:11px/1.2 var(--font); z-index:20; border:1px solid var(--border); min-width:110px; text-align:center; }
[data-tooltip]:hover::after { content:""; position:absolute; bottom:calc(100% + 2px); left:50%; transform:translateX(-50%); border:5px solid transparent; border-top-color:var(--border); }
::-webkit-scrollbar { width:10px; }
::-webkit-scrollbar-track { background:var(--panel); }
::-webkit-scrollbar-thumb { background:var(--accent); border-radius:20px; border:2px solid var(--panel); }
::-webkit-scrollbar-thumb:hover { background:var(--accent-hover); }
@keyframes fadeIn { from { opacity:0; transform:translateY(4px);} to { opacity:1; transform:translateY(0);} }
.tab-item, .group-item { animation: fadeIn .3s ease; }
@media (max-height:500px) { .app { height:500px; } .tab-list-container { max-height:150px; } .group-list { max-height:100px; } }


/* ========================================
   BOTTOM ACTIONS
   ======================================== */
.bottom-actions {
  background: transparent;
  border-top: 1px solid var(--border-color);
  padding-top: var(--spacing-md);
  margin-top: var(--spacing-md);
  flex-shrink: 0;
}

/* ========================================
   TOOLTIPS
   ======================================== */
[data-tooltip] {
  position: relative;
}

[data-tooltip]:hover::before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg-primary);
  color: var(--text-primary);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--border-radius-sm);
  font-size: var(--font-size-xs);
  white-space: nowrap;
  z-index: 1000;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-lg);
  max-width: 250px;
  white-space: normal;
  text-align: center;
  word-wrap: break-word;
}

[data-tooltip]:hover::after {
  content: '';
  position: absolute;
  bottom: calc(100% + 2px);
  left: 50%;
  transform: translateX(-50%);
  border: 4px solid transparent;
  border-top-color: var(--border-color);
  z-index: 1000;
}

/* ========================================
   SCROLLBARS
   ======================================== */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--bg-tertiary);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--bg-hover);
}

/* ========================================
   ANIMATIONS
   ======================================== */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.tab-item,
.group-item {
  animation: fadeIn 0.3s ease;
}

/* ========================================
   RESPONSIVE ADJUSTMENTS
   ======================================== */
@media (max-height: 500px) {
  .main-container {
    max-height: 400px;
  }
  
  .tab-list-container {
    max-height: 150px;
  }
  
  .group-list {
    max-height: 100px;
  }
}