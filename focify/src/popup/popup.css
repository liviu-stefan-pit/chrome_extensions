/* Layout/Base */
html, body { width:340px; margin:0; padding:0; }
body { font:13px/1.4 system-ui,-apple-system,Segoe UI,Roboto,sans-serif; -webkit-font-smoothing:antialiased; background:#08100d; color:#d7efe1; }
* { box-sizing:border-box; }

:root {
	--bg:#08100d; --panel:#0f1b16; --panel-alt:#13241d; --border:#1a2d24; --border-strong:#25493a;
	--accent:#1e8f55; --accent-hover:#27a463; --accent-glow:#26c978; --text-dim:#8aa697; --focus:#2dd688;
	--danger:#c55353;
}

.app { display:flex; flex-direction:column; min-height:100%; }
.app-header { display:flex; align-items:center; justify-content:space-between; padding:10px 14px 8px; border-bottom:1px solid var(--border); background:linear-gradient(180deg,var(--panel-alt),var(--panel)); }
.title { display:flex; align-items:center; gap:8px; }
h1 { font-size:15px; margin:0; letter-spacing:.5px; font-weight:600; }
.badge { font-size:10px; letter-spacing:.08em; text-transform:uppercase; background:rgba(30,143,85,.12); color:var(--accent); padding:3px 8px 2px; border:1px solid var(--accent); border-radius:999px; font-weight:600; }
.version { font-size:11px; color:var(--text-dim); }

main { padding:10px 14px 4px; flex:1; }

/* Blocks */
.block { background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:14px 14px 12px; margin-bottom:12px; position:relative; }
.block.tight { padding-top:12px; }
.block:before { content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none; box-shadow:0 3px 6px -3px rgba(0,0,0,.55),0 1px 2px rgba(0,0,0,.4); }

.section-label { margin:0 0 10px; font-size:11px; letter-spacing:.09em; text-transform:uppercase; color:var(--accent); font-weight:600; position:relative; }

/* Segmented control */
.segmented { display:inline-grid; grid-auto-flow:column; background:var(--panel-alt); border:1px solid var(--border-strong); border-radius:10px; overflow:hidden; }
.segment { position:relative; isolation:isolate; }
.segment input { position:absolute; opacity:0; inset:0; margin:0; cursor:pointer; }
.segment span { display:block; padding:6px 18px 6px; font-size:12px; color:var(--text-dim); font-weight:500; letter-spacing:.4px; transition:.18s; }
.segment:first-child span { border-right:1px solid var(--border); }
.segment input:focus-visible + span { outline:2px solid var(--focus); outline-offset:2px; }
.segment input:checked + span { color:#fff; background:linear-gradient(145deg,var(--accent),var(--accent-hover)); box-shadow:0 0 0 1px var(--accent),0 0 0 3px rgba(38,201,120,.15); }
.segment input:not(:checked):hover + span { background:rgba(255,255,255,.05); color:#cfe7dc; }

/* Toggle list */
.toggle-list { list-style:none; margin:4px 0 2px; padding:0; display:grid; gap:4px; }
.toggle-list li { margin:0; padding:0; }

.toggle { --h:34px; position:relative; display:flex; align-items:center; gap:10px; padding:6px 10px 6px 12px; border:1px solid var(--border); border-radius:10px; background:var(--panel-alt); cursor:pointer; transition:.18s border, .18s background; }
.toggle:hover { border-color:var(--border-strong); background:var(--panel-alt); }
.toggle:has(input:focus-visible) { outline:2px solid var(--focus); outline-offset:2px; }
.toggle input { position:absolute; opacity:0; pointer-events:none; }
.toggle .text { font-size:13px; line-height:1.3; font-weight:500; color:#e2f6ec; }
.toggle .check { width:20px; height:20px; border:2px solid var(--accent); border-radius:6px; display:inline-flex; align-items:center; justify-content:center; font-size:12px; color:var(--accent); background:rgba(30,143,85,.08); transition:.22s background, .22s color, .22s border-color; box-shadow:0 0 0 0 rgba(38,201,120,.3); }
.toggle input:checked ~ .check { background:linear-gradient(145deg,var(--accent),var(--accent-hover)); color:#fff; border-color:var(--accent-hover); box-shadow:0 0 0 1px var(--accent),0 0 0 4px rgba(38,201,120,.25); }
.toggle input:not(:checked):hover ~ .check { background:rgba(30,143,85,.18); }

/* Buttons */
.app-footer { padding:6px 14px 14px; border-top:1px solid var(--border); background:linear-gradient(180deg,var(--panel),#0b1712); }
.btn-secondary { width:100%; padding:10px 14px; font-size:13px; font-weight:600; letter-spacing:.4px; border-radius:12px; background:linear-gradient(145deg,var(--panel-alt),var(--panel)); color:#e1f7ec; border:1px solid var(--border-strong); cursor:pointer; position:relative; overflow:hidden; transition:.2s background,.2s border,.2s color; }
.btn-secondary:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 30% 20%,rgba(38,201,120,.18),transparent 60%); opacity:.6; pointer-events:none; }
.btn-secondary:hover { border-color:var(--accent); color:#fff; }
.btn-secondary:active { background:linear-gradient(145deg,var(--accent-hover),var(--accent)); color:#fff; border-color:var(--accent-hover); }

/* Scrollbar (edge cases if content grows) */
body { scrollbar-width:thin; scrollbar-color:var(--accent) var(--panel); }
body::-webkit-scrollbar { width:10px; }
body::-webkit-scrollbar-track { background:var(--panel); }
body::-webkit-scrollbar-thumb { background:var(--accent); border-radius:20px; border:2px solid var(--panel); }
body::-webkit-scrollbar-thumb:hover { background:var(--accent-hover); }

/* Accessibility helpers */
@media (prefers-reduced-motion:no-preference) {
	.segment input:checked + span, .toggle input:checked ~ .check { transition:.35s background, .35s box-shadow; }
}

/* High contrast mode fallback */
@media (forced-colors:active) {
	body, .block, .toggle, .btn-secondary, .segmented { forced-color-adjust:auto; }
	.segment input:checked + span { outline:1px solid Highlight; }
	.toggle input:checked ~ .check { outline:1px solid Highlight; }
}
